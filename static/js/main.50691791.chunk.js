(this["webpackJsonpreact-testing"]=this["webpackJsonpreact-testing"]||[]).push([[0],{22:function(e,t,i){},23:function(e,t,i){},44:function(e,t,i){"use strict";i.r(t);var c=i(1),n=i.n(c),s=i(16),a=i.n(s),r=(i(22),i(17)),l=i(2),o=(i(23),i(24),i(4)),d=i.n(o),j=i(0),u=function(e){var t=e.searchTerm,i=e.setSearchTerm;return Object(j.jsx)("div",{className:"field-group",children:Object(j.jsx)("label",{className:"d-block",children:Object(j.jsx)("input",{className:"form-control",type:"text",value:t,name:"term",placeholder:"Search term",onChange:function(e){i(e.target.value)}})})})},b=function(e){var t=e.genre;return Object(j.jsx)("option",{name:t.name,value:t.id,children:t.name},t.id)},m=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),i=t[0],n=t[1];return Object(c.useEffect)((function(){d.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=b3a999b7703140535e95baeff2e338fa&language=en-US").then((function(e){return e.data.genres})).then((function(e){n(e)}))}),[]),Object(j.jsx)("div",{className:"field-group mb-2",children:Object(j.jsxs)("select",{defaultValue:"all",className:"form-control",children:[Object(j.jsx)("option",{name:"all",value:"all",children:"All"},0),i.map((function(e){return Object(j.jsx)(b,{genre:e},e.id)}))]})})},h=function(e){var t=e.setMovies,i=Object(c.useState)(""),n=Object(l.a)(i,2),s=n[0],a=n[1],r=Object(c.useState)(!0),o=Object(l.a)(r,2),b=o[0],h=o[1];Object(c.useEffect)((function(){h(!s)}),[s]);return Object(j.jsxs)("form",{className:"movie-search-form",onSubmit:function(e){var i=e.target[0];(function(e){return d.a.get("https://api.themoviedb.org/3/search/movie?api_key=b3a999b7703140535e95baeff2e338fa&query=".concat(e,"&sort")).then((function(e){return e.data.results}))})(e.target[1].value).then((function(e){var c=e;"all"!==i.value&&(c=function(e,t){var i=parseInt(t);return e.filter((function(e){return e.genre_ids.indexOf(i)>-1}))}(e,i.value)),t(c)})),e.preventDefault()},children:[Object(j.jsx)(m,{}),Object(j.jsx)(u,{searchTerm:s,setSearchTerm:a}),Object(j.jsx)("div",{className:"field-group",children:Object(j.jsx)("button",{disabled:b,className:"btn btn-primary",type:"submit",children:"Search"})})]})},v=function(e){var t=e.detailsExpanded,i=e.movie,c=e.similarMovies,n="movie-list-entry-details";return t||(n+=" collapse"),Object(j.jsx)("div",{id:"MovieListEntry"+i.id,className:n,children:Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+i.poster_path}),Object(j.jsxs)("div",{className:"px-4 pb-4",children:[Object(j.jsx)("p",{children:i.overview}),Object(j.jsx)("hr",{}),Object(j.jsx)("h5",{children:"Similar Movies"}),Object(j.jsx)("div",{className:"similar-movies row",children:c.filter((function(e,t){return t<6})).map((function(e){return Object(j.jsx)("div",{className:"col-3",children:Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+e.poster_path,width:"100px"})},e.id)}))})]})]})})},O=function(e){var t=e.movie,i=e.addMovieToWatchlist,n=Object(c.useState)([]),s=Object(l.a)(n,2),a=s[0],r=s[1],o=Object(c.useState)(!1),u=Object(l.a)(o,2),b=u[0],m=u[1],h=new Date(t.release_date);h=h.getFullYear();return Object(c.useEffect)((function(){console.log("test"),function(e){return d.a.get("https://api.themoviedb.org/3/movie/".concat(e.id,"/similar?api_key=b3a999b7703140535e95baeff2e338fa")).then((function(e){return e.data.results}))}(t).then((function(e){r(e)}))}),[]),Object(j.jsxs)("li",{className:"list-group-item",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsx)("button",{className:"btn btn-link mb-0",onClick:function(e){m(!b)},children:t.title+" ("+h+")"}),Object(j.jsx)("button",{className:"add-to-watchlist btn btn-link",onClick:function(){i(t)},children:"+ Watchlist"})]}),Object(j.jsx)(v,{detailsExpanded:b,movie:t,similarMovies:a})]},t.id)},f=function(e){var t=e.movies,i=e.addMovieToWatchlist;return Object(j.jsx)("div",{className:"mt-3",children:t.length?Object(j.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(j.jsx)(O,{movie:e,addMovieToWatchlist:i},e.id)}))}):Object(j.jsx)("p",{children:"No results"})})},x=function(e){var t=e.addMovieToWatchlist,i=Object(c.useState)([]),n=Object(l.a)(i,2),s=n[0],a=n[1];return Object(j.jsxs)("div",{className:"movie-search p-4 rounded",children:[Object(j.jsx)("h2",{className:"mb-3",children:"Movie Search"}),Object(j.jsx)(h,{setMovies:a}),Object(j.jsx)(f,{movies:s,addMovieToWatchlist:t})]})},p=function(e){var t=e.detailsExpanded,i=e.movie,c="movie-list-entry-details";return t||(c+=" collapse"),Object(j.jsxs)("div",{id:"MovieListEntry"+i.id,className:c,children:[Object(j.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+i.poster_path}),Object(j.jsx)("p",{children:i.overview})]})},g=function(e){var t=e.movie,i=e.removeMovieFromWatchlist,n=Object(c.useState)(!1),s=Object(l.a)(n,2),a=s[0],r=s[1],o=new Date(t.release_date);o=o.getFullYear();return Object(j.jsxs)("li",{className:"list-group-item",children:[Object(j.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(j.jsx)("button",{className:"d-inline btn btn-link mb-0",onClick:function(e){r(!a)},children:t.title+" ("+o+")"}),Object(j.jsx)("button",{className:"remove-from-watchlist d-inline btn btn-link",onClick:function(){return i(t)},children:"Remove"})]}),Object(j.jsx)(p,{detailsExpanded:a,movie:t})]},t.id)},N=function(e){var t=e.movies,i=e.removeMovieFromWatchlist;return Object(j.jsx)("div",{className:"mt-3",children:t.length?Object(j.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(j.jsx)(g,{movie:e,removeMovieFromWatchlist:i},e.id)}))}):Object(j.jsx)("p",{children:"No results"})})},M=function(e){var t=e.movies,i=e.removeMovieFromWatchlist;return Object(j.jsxs)("div",{className:"watchlist p-4 rounded",children:[Object(j.jsx)("h2",{className:"mb-3",children:"Watchlist"}),Object(j.jsx)(N,{movies:t,removeMovieFromWatchlist:i})]})};var S=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),i=t[0],n=t[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("header",{className:"main-header",children:Object(j.jsxs)("h1",{children:[Object(j.jsx)("strong",{children:"cherryCordial: "}),"Movie db"]})}),Object(j.jsxs)("div",{className:"row",children:[Object(j.jsx)("div",{className:"col-7",children:Object(j.jsx)(x,{addMovieToWatchlist:function(e){i.includes(e)||n((function(t){return[].concat(Object(r.a)(t),[e])}))}})}),Object(j.jsx)("div",{className:"col-5",children:Object(j.jsx)(M,{movies:i,removeMovieFromWatchlist:function(e){n(i.filter((function(t){return t.id!==e.id})))}})})]})]})},y=function(e){e&&e instanceof Function&&i.e(3).then(i.bind(null,45)).then((function(t){var i=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,a=t.getTTFB;i(e),c(e),n(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root")),y()}},[[44,1,2]]]);
//# sourceMappingURL=main.50691791.chunk.js.map