(this["webpackJsonpreact-testing"]=this["webpackJsonpreact-testing"]||[]).push([[0],{22:function(e,t,c){},23:function(e,t,c){},44:function(e,t,c){"use strict";c.r(t);var n=c(1),i=c.n(n),a=c(16),s=c.n(a),r=(c(22),c(17)),l=c(3),o=(c(23),c(24),c(6)),j=c.n(o),d=c(0),u=function(e){var t=e.searchTerm,c=e.setSearchTerm;return Object(d.jsx)("div",{className:"field-group",children:Object(d.jsx)("label",{className:"d-block",children:Object(d.jsx)("input",{className:"form-control",type:"text",value:t,name:"term",placeholder:"Search term",onChange:function(e){c(e.target.value)}})})})},b=function(e){var t=e.genre;return Object(d.jsx)("option",{name:t.name,value:t.id,children:t.name},t.id)},m=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],i=t[1];return Object(n.useEffect)((function(){j.a.get("https://api.themoviedb.org/3/genre/movie/list?api_key=b3a999b7703140535e95baeff2e338fa&language=en-US").then((function(e){return e.data.genres})).then((function(e){i(e)}))}),[]),Object(d.jsx)("div",{className:"field-group mb-2",children:Object(d.jsxs)("select",{defaultValue:"all",className:"form-control",children:[Object(d.jsx)("option",{name:"all",value:"all",children:"All"},0),c.map((function(e){return Object(d.jsx)(b,{genre:e},e.id)}))]})})},h=function(e){var t=e.setMovies,c=Object(n.useState)(""),i=Object(l.a)(c,2),a=i[0],s=i[1],r=Object(n.useState)(!0),o=Object(l.a)(r,2),b=o[0],h=o[1];Object(n.useEffect)((function(){h(!a)}),[a]);return Object(d.jsxs)("form",{className:"movie-search-form",onSubmit:function(e){var c=e.target[0];(function(e){return j.a.get("https://api.themoviedb.org/3/search/movie?api_key=b3a999b7703140535e95baeff2e338fa&query=".concat(e,"&sort")).then((function(e){return e.data.results}))})(e.target[1].value).then((function(e){var n=e;"all"!==c.value&&(n=function(e,t){var c=parseInt(t);return e.filter((function(e){return e.genre_ids.indexOf(c)>-1}))}(e,c.value)),t(n)})),e.preventDefault()},children:[Object(d.jsx)(m,{}),Object(d.jsx)(u,{searchTerm:a,setSearchTerm:s}),Object(d.jsx)("div",{className:"field-group",children:Object(d.jsx)("button",{disabled:b,className:"btn btn-primary",type:"submit",children:"Search"})})]})},v=function(e){var t=e.detailsExpanded,c=e.movie,n=e.addMovieToWatchlist,i="movie-list-entry-details";return t||(i+=" collapse"),Object(d.jsxs)("div",{id:"MovieListEntry"+c.id,className:i,children:[Object(d.jsx)("img",{src:"https://image.tmdb.org/t/p/original/"+c.poster_path}),Object(d.jsx)("p",{children:c.overview}),Object(d.jsx)("button",{className:"btn btn-link",onClick:function(){n(c)},children:"+ Add to Watchlist"})]})},O=function(e){var t=e.movie,c=e.addMovieToWatchlist,i=Object(n.useState)(!1),a=Object(l.a)(i,2),s=a[0],r=a[1],o=new Date(t.release_date);o=o.getFullYear();return Object(d.jsxs)("li",{className:"list-group-item",children:[Object(d.jsx)("button",{className:"btn btn-link mb-0",onClick:function(e){r(!s)},children:t.title+" ("+o+")"}),Object(d.jsx)(v,{detailsExpanded:s,movie:t,addMovieToWatchlist:c})]},t.id)},f=function(e){var t=e.movies,c=e.addMovieToWatchlist;return Object(d.jsx)("div",{className:"mt-3",children:t.length?Object(d.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(d.jsx)(O,{movie:e,addMovieToWatchlist:c},e.id)}))}):Object(d.jsx)("p",{children:"No results"})})},x=function(e){var t=e.addMovieToWatchlist,c=Object(n.useState)([]),i=Object(l.a)(c,2),a=i[0],s=i[1];return Object(d.jsxs)("div",{className:"movie-search p-4",children:[Object(d.jsx)("h2",{className:"mb-3",children:"Movie Search"}),Object(d.jsx)(h,{setMovies:s}),Object(d.jsx)(f,{movies:a,addMovieToWatchlist:t})]})},p=function(e){var t=e.movie,c=e.removeMovieFromWatchlist,i=Object(n.useState)(!1),a=Object(l.a)(i,2),s=a[0],r=a[1],o=new Date(t.release_date);o=o.getFullYear();return Object(d.jsx)("li",{className:"list-group-item",children:Object(d.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(d.jsx)("button",{className:"d-inline btn btn-link mb-0",onClick:function(e){r(!s)},children:t.title+" ("+o+")"}),Object(d.jsx)("button",{className:"remove-from-watchlist d-inline btn btn-link",onClick:function(){return c(t)},children:"Remove"})]})},t.id)},g=function(e){var t=e.movies,c=e.removeMovieFromWatchlist;return Object(d.jsx)("div",{className:"mt-3",children:t.length?Object(d.jsx)("ul",{className:"list-group",children:t.map((function(e){return Object(d.jsx)(p,{movie:e,removeMovieFromWatchlist:c},e.id)}))}):Object(d.jsx)("p",{children:"No results"})})},N=function(e){var t=e.movies,c=e.removeMovieFromWatchlist;return Object(d.jsxs)("div",{className:"watchlist p-4",children:[Object(d.jsx)("h2",{className:"mb-3",children:"Watchlist"}),Object(d.jsx)(g,{movies:t,removeMovieFromWatchlist:c})]})};var M=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),c=t[0],i=t[1];return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("header",{className:"main-header",children:Object(d.jsxs)("h1",{children:[Object(d.jsx)("strong",{children:"cherryCordial: "}),"Movie db"]})}),Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("div",{className:"col-7",children:Object(d.jsx)(x,{addMovieToWatchlist:function(e){i((function(t){return[].concat(Object(r.a)(t),[e])}))}})}),Object(d.jsx)("div",{className:"col-5",children:Object(d.jsx)(N,{movies:c,removeMovieFromWatchlist:function(e){i(c.filter((function(t){return t.id!==e.id})))}})})]})]})},S=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,45)).then((function(t){var c=t.getCLS,n=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;c(e),n(e),i(e),a(e),s(e)}))};s.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(M,{})}),document.getElementById("root")),S()}},[[44,1,2]]]);
//# sourceMappingURL=main.22240621.chunk.js.map